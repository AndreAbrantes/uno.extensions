<Page x:Class="Commerce.ProductsPage"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:local="using:Commerce"
	  xmlns:fake="using:Commerce.DesignTime"
	  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	  xmlns:services="using:Commerce.Services"
	  xmlns:nav="using:Uno.Extensions.Navigation.Controls"
	  xmlns:toolkit="using:Uno.Toolkit.UI.Controls"
	  xmlns:reactive="using:Uno.Extensions.Reactive"
	  xmlns:utu="using:Uno.Toolkit.UI.Controls"
	  xmlns:um="using:Uno.Material.Extensions"
	  xmlns:uer="using:Uno.Extensions.Reactive"
      xmlns:uen="using:Uno.Extensions.Navigation.Controls"
	  mc:Ignorable="d fake"
	  Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

	
	<Grid d:DataContext="{d:DesignInstance fake:FakeProducts, IsDesignTimeCreatable=True}">
		<VisualStateManager.VisualStateGroups>
			<VisualStateGroup>
				<VisualState x:Name="Narrow" />
				<!--<VisualState.StateTriggers>
					<AdaptiveTrigger MinWindowWidth="0"
									 MinWindowHeight="0" />
				</VisualState.StateTriggers>
				<VisualState.Setters>
					<Setter Target="Tabs.Visibility"
							Value="Visible" />
				</VisualState.Setters>-->

				<VisualState x:Name="Wide">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="800" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="ProductsColumn.Width"
								Value="*" />
						<Setter Target="ProductsColumn.MinWidth"
								Value="300" />
						<Setter Target="DetailsColumn.Width"
								Value="2*" />
						<Setter Target="DetailsGrid.Visibility"
								Value="Visible" />
					</VisualState.Setters>
				</VisualState>
			</VisualStateGroup>
		</VisualStateManager.VisualStateGroups>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*"
							  x:Name="ProductsColumn" />
			<ColumnDefinition Width="0"
							  x:Name="DetailsColumn" />
		</Grid.ColumnDefinitions>

		<utu:AutoLayout>
			<utu:AutoLayout.Resources>
				<x:String x:Key="BitmapIcon_help_outline">M 9 16 L 11 16 L 11 14 L 9 14 L 9 16 Z M 10 0 C 4.480000019073486 0 0 4.480000019073486 0 10 C 0 15.519999980926514 4.480000019073486 20 10 20 C 15.519999980926514 20 20 15.519999980926514 20 10 C 20 4.480000019073486 15.519999980926514 0 10 0 Z M 10 18 C 5.590000152587891 18 2 14.40999984741211 2 10 C 2 5.590000152587891 5.590000152587891 2 10 2 C 14.40999984741211 2 18 5.590000152587891 18 10 C 18 14.40999984741211 14.40999984741211 18 10 18 Z M 10 4 C 7.789999961853027 4 6 5.789999961853027 6 8 L 8 8 C 8 6.899999976158142 8.899999976158142 6 10 6 C 11.100000023841858 6 12 6.899999976158142 12 8 C 12 10 9 9.75 9 13 L 11 13 C 11 10.75 14 10.5 14 8 C 14 5.789999961853027 12.210000038146973 4 10 4 Z</x:String>
				<x:String x:Key="BitmapIcon_notifications">M 8 19.5 C 9.100000023841858 19.5 10 18.600000023841858 10 17.5 L 6 17.5 C 6 18.600000023841858 6.889999985694885 19.5 8 19.5 Z M 14 13.5 L 14 8.5 C 14 5.430000066757202 12.359999895095825 2.8599998354911804 9.5 2.179999828338623 L 9.5 1.5 C 9.5 0.6700000166893005 8.8299999833107 0 8 0 C 7.1700000166893005 0 6.5 0.6700000166893005 6.5 1.5 L 6.5 2.179999828338623 C 3.630000114440918 2.8599998354911804 2 5.420000076293945 2 8.5 L 2 13.5 L 0 15.5 L 0 16.5 L 16 16.5 L 16 15.5 L 14 13.5 Z</x:String>
				<x:String x:Key="Icon_search">M 12.5 11 L 11.710000038146973 11 L 11.430000305175781 10.729999542236328 C 12.410000324249268 9.589999556541443 13 8.110000014305115 13 6.5 C 13 2.9100000858306885 10.089999914169312 0 6.5 0 C 2.9100000858306885 0 0 2.9100000858306885 0 6.5 C 0 10.089999914169312 2.9100000858306885 13 6.5 13 C 8.110000014305115 13 9.589999556541443 12.410000324249268 10.729999542236328 11.430000305175781 L 11 11.710000038146973 L 11 12.5 L 16 17.489999771118164 L 17.489999771118164 16 L 12.5 11 L 12.5 11 Z M 6.5 11 C 4.009999990463257 11 2 8.990000009536743 2 6.5 C 2 4.009999990463257 4.009999990463257 2 6.5 2 C 8.990000009536743 2 11 4.009999990463257 11 6.5 C 11 8.990000009536743 8.990000009536743 11 6.5 11 Z</x:String>
			</utu:AutoLayout.Resources>
			<utu:NavigationBar Content="Uno commerce" x:Uid="Page_NavigationBar" utu:AutoLayout.CounterAlignment="Stretch" Style="{StaticResource MaterialNavigationBarStyle}">
				<utu:NavigationBar.PrimaryCommands>
					<AppBarButton Foreground="{StaticResource MaterialOnPrimaryMediumBrush}">
						<AppBarButton.Icon>
							<BitmapIcon UriSource="ms-appx:///Assets/BitmapIcons/notifications.png"
										ShowAsMonochrome="false" />
						</AppBarButton.Icon>
					</AppBarButton>
					<AppBarButton Foreground="{StaticResource MaterialOnPrimaryMediumBrush}">
						<AppBarButton.Icon>
							<BitmapIcon UriSource="ms-appx:///Assets/BitmapIcons/help_outline.png"
										ShowAsMonochrome="false" />
						</AppBarButton.Icon>
					</AppBarButton>
				</utu:NavigationBar.PrimaryCommands>
			</utu:NavigationBar>
			<utu:AutoLayout utu:AutoLayout.CounterAlignment="Stretch" utu:AutoLayout.PrimaryAlignment="Stretch">
				<utu:AutoLayout Spacing="16" Padding="16,16,16,16" utu:AutoLayout.CounterAlignment="Stretch">
					<TextBox Text="{Binding Term, Mode=TwoWay}" utu:AutoLayout.CounterAlignment="Stretch" Style="{StaticResource MaterialOutlinedTextBoxStyle}">
						<um:ControlExtensions.Icon>
							<PathIcon Data="{StaticResource Icon_search}" />
						</um:ControlExtensions.Icon>
					</TextBox>
					<utu:AutoLayout Spacing="10" Justify="SpaceBetween" Orientation="Horizontal" utu:AutoLayout.CounterAlignment="Stretch" utu:AutoLayout.PrimaryLength="20">
						<TextBlock Foreground="{StaticResource MaterialOnBackgroundBrush}" x:Uid="Page_5254 products found!" Text="5254 products found!" utu:AutoLayout.CounterAlignment="Center" Style="{StaticResource MaterialBody2}" />
						<HyperlinkButton Content="Filters" x:Uid="Page_Filters" utu:AutoLayout.CounterAlignment="Center" Style="{StaticResource MaterialHyperlinkButtonStyle}" nav:Navigation.Request="!FilterPopup" nav:Navigation.Data="{Binding Filter, Mode=TwoWay}"/>
					</utu:AutoLayout>
				</utu:AutoLayout>
				<uer:FeedView Source="{Binding Items}" utu:AutoLayout.CounterAlignment="Stretch" utu:AutoLayout.PrimaryAlignment="Stretch">
					<DataTemplate>
						<ListView Background="{StaticResource MaterialSurfaceBrush}" ItemsSource="{Binding Data}" uen:Navigation.Request="ProductDetails">
							<ListView.ItemsPanel>
								<ItemsPanelTemplate>
									<ItemsStackPanel Orientation="Vertical" />
								</ItemsPanelTemplate>
							</ListView.ItemsPanel>
							<ListView.ItemTemplate>
								<DataTemplate>
									<utu:AutoLayout>
										<utu:AutoLayout Padding="16,8,16,0" Orientation="Horizontal" utu:AutoLayout.CounterAlignment="Stretch">
											<utu:AutoLayout>
												<utu:AutoLayout Spacing="10" Padding="0,0,16,8">
													<Image Source="{Binding Photo}" Stretch="UniformToFill" utu:AutoLayout.PrimaryLength="56" utu:AutoLayout.CounterLength="56" />
												</utu:AutoLayout>
											</utu:AutoLayout>
											<utu:AutoLayout Padding="0,0,0,8" utu:AutoLayout.PrimaryAlignment="Stretch">
												<utu:AutoLayout utu:AutoLayout.CounterAlignment="Stretch">
													<utu:AutoLayout utu:AutoLayout.CounterAlignment="Stretch" utu:AutoLayout.PrimaryAlignment="Stretch">
														<TextBlock Foreground="{StaticResource MaterialOnSurfaceLowBrush}" TextWrapping="Wrap" x:Uid="Page_Subtitle" Text="{Binding Brand}" Style="{StaticResource MaterialOverline}" />
														<TextBlock Foreground="{StaticResource MaterialOnSurfaceBrush}" TextWrapping="Wrap" x:Uid="Page_Secondary text" Text="{Binding Name}" Style="{StaticResource MaterialSubtitle1}" />
													</utu:AutoLayout>
												</utu:AutoLayout>
											</utu:AutoLayout>
											<utu:AutoLayout Orientation="Horizontal" utu:AutoLayout.CounterAlignment="Stretch">
												<utu:AutoLayout Padding="16,0,0,8" Orientation="Horizontal" utu:AutoLayout.CounterAlignment="Stretch">
													<utu:AutoLayout utu:AutoLayout.CounterAlignment="Center">
														<utu:AutoLayout Spacing="4" utu:AutoLayout.CounterAlignment="End">
															<utu:AutoLayout Spacing="10" Orientation="Horizontal" utu:AutoLayout.CounterAlignment="End">
																<TextBlock Foreground="{StaticResource MaterialOnSurfaceBrush}" TextAlignment="End" x:Uid="Page_Label" Text="{Binding Price}" Style="{StaticResource MaterialBody1}" />
															</utu:AutoLayout>
														</utu:AutoLayout>
													</utu:AutoLayout>
												</utu:AutoLayout>
											</utu:AutoLayout>
										</utu:AutoLayout>
									</utu:AutoLayout>
								</DataTemplate>
							</ListView.ItemTemplate>
						</ListView>
					</DataTemplate>
				</uer:FeedView>
			</utu:AutoLayout>
		</utu:AutoLayout>

		<Grid Grid.Column="1"
			  x:Name="DetailsGrid"
			  Visibility="Collapsed">
			<ContentControl nav:Region.Name="Details"
							nav:Region.Attached="true"
							Grid.Column="1"
							HorizontalAlignment="Stretch"
							VerticalAlignment="Stretch"
							HorizontalContentAlignment="Stretch"
							VerticalContentAlignment="Stretch" />
		</Grid>
	</Grid>
</Page>
